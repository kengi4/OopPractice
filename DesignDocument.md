# Design Document: Console RPG & Manager

## 1. Вступ
Цей документ описує архітектуру консольного додатка, що поєднує функціонал менеджера файлів, каталогу RPG-персонажів та текстової гри. Метою є створення модульної системи, яку легко розширювати новими командами та режимами відображення.

## 2. Архітектура Командного Інтерфейсу (CLI)

### 2.1. Патерн "Facade" (CLI Manager)
Клас `CliManager` виступає єдиною точкою входу для обробки команд користувача. Він відповідає за:
- Зчитування вводу (REPL - Read-Eval-Print Loop).
- Парсинг аргументів.
- Маршрутизацію команд до відповідних виконавців.

### 2.2. Патерн "Strategy" (Command Strategies)
Для розділення логіки різних режимів (файловий менеджер, гра, база даних) використовується інтерфейс `ICommandStrategy`. 
- **CharacterStrategy**: Команди для створення, редагування та перегляду персонажів (`create`, `ls`, `heal`).
- **FileStrategy**: Команди файлової системи (`cd`, `dir`, `edit`).
- **GameStrategy**: Команди ігрового процесу (`attack`, `defend`).

Це дозволяє підключати нові групи команд без зміни основного класу `CliManager`.

### 2.3. Патерн "Renderer" (Відображення)
Для відділення бізнес-логіки від представлення використовується generic-інтерфейс `IRenderer<T>`.
- Бізнес-об'єкти (DTO) містять лише дані.
- Рендерери (`CharacterRenderer`, `ListRenderer`) знають, як красиво вивести ці дані в консоль (кольори, таблиці, відступи).

## 3. Потік даних (Data Flow)
1. Користувач вводить рядок `act attack orc`.
2. `CliManager` парсить рядок на команду `act` та аргументи `attack`, `orc`.
3. Знайдена стратегія викликає відповідний метод.
4. Метод виконує логіку (змінює HP персонажа).
5. Результат передається у `IRenderer`, який формує візуальну відповідь користувачу.